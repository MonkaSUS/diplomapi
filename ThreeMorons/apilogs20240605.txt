2024-06-05 11:27:10.984 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:27:11.698 +03:00 [FTL] Application startup exception
System.InvalidOperationException: Failure to infer one or more parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
db                  | Services (Inferred)
fac                 | Services (Inferred)
data                | Body (Inferred)
val                 | UNKNOWN        


Did you mean to register the "UNKNOWN" parameters as a Service?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-06-05 11:27:11.948 +03:00 [ERR] Hosting failed to start
System.InvalidOperationException: Failure to infer one or more parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
db                  | Services (Inferred)
fac                 | Services (Inferred)
data                | Body (Inferred)
val                 | UNKNOWN        


Did you mean to register the "UNKNOWN" parameters as a Service?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-06-05 11:27:41.167 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:27:41.484 +03:00 [FTL] Application startup exception
System.InvalidOperationException: Failure to infer one or more parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
db                  | Services (Inferred)
fac                 | Services (Inferred)
data                | Body (Inferred)
val                 | UNKNOWN        


Did you mean to register the "UNKNOWN" parameters as a Service?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
2024-06-05 11:27:41.530 +03:00 [ERR] Hosting failed to start
System.InvalidOperationException: Failure to infer one or more parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
db                  | Services (Inferred)
fac                 | Services (Inferred)
data                | Body (Inferred)
val                 | UNKNOWN        


Did you mean to register the "UNKNOWN" parameters as a Service?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.GetGroupedEndpoints(RouteGroupContext context)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.GetGroupedEndpointsWithNullablePrefix(RoutePattern prefix, IReadOnlyList`1 conventions, IReadOnlyList`1 finallyConventions, IServiceProvider applicationServices)
   at Microsoft.AspNetCore.Routing.RouteGroupBuilder.GroupEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.EnsureInitialized()
   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationPolicyCache..ctor(EndpointDataSource dataSource)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithOneArg(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware..ctor(RequestDelegate next, IAuthorizationPolicyProvider policyProvider, IServiceProvider services)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddlewareInternal..ctor(RequestDelegate next, IServiceProvider services, IAuthorizationPolicyProvider policyProvider, ILogger`1 logger)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
   at System.Reflection.MethodBaseInvoker.InvokeDirectByRefWithFewArgs(Object obj, Span`1 copyOfArgs, BindingFlags invokeAttr)
   at System.Reflection.MethodBaseInvoker.InvokeWithFewArgs(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.Internal.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.Internal.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.ReflectionMiddlewareBinder.CreateMiddleware(RequestDelegate next)
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.ApplicationBuilder.Build()
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-06-05 11:28:19.878 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:28:20.605 +03:00 [ERR] Hosting failed to start
System.Net.Sockets.SocketException (10049): Требуемый адрес для своего контекста неверен.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-06-05 11:28:38.212 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:28:39.193 +03:00 [ERR] Hosting failed to start
System.Net.Sockets.SocketException (10049): Требуемый адрес для своего контекста неверен.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.ListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-06-05 11:29:04.631 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:29:05.128 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 11:29:05.142 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 11:29:05.279 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 11:29:05.282 +03:00 [INF] Hosting environment: Development
2024-06-05 11:29:05.284 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 11:29:05.697 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 11:29:06.037 +03:00 [INF] No cached response available for this request.
2024-06-05 11:29:06.190 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 11:29:06.271 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 11:29:06.332 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 11:29:06.334 +03:00 [INF] The response could not be cached for this request.
2024-06-05 11:29:06.339 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 650.8877ms
2024-06-05 11:29:06.365 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/favicon.ico - null null
2024-06-05 11:29:06.365 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 11:29:06.367 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 11:29:06.381 +03:00 [INF] No cached response available for this request.
2024-06-05 11:29:06.407 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 39.0114ms
2024-06-05 11:29:06.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 223.0208ms
2024-06-05 11:29:06.602 +03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\wwwroot\favicon.ico'
2024-06-05 11:29:06.606 +03:00 [INF] The response could not be cached for this request.
2024-06-05 11:29:06.610 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/favicon.ico - 200 268286 image/x-icon 246.1866ms
2024-06-05 11:31:34.626 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 228
2024-06-05 11:31:34.733 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:31:34'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:31:34.761 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:31:34'.
2024-06-05 11:31:34.763 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 11:31:34.779 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 11:31:34.782 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "RegistrationInput inp" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to ThreeMorons.UserInputTypes.RegistrationInput. Path: $.dateOfBirth | LineNumber: 7 | BytePositionInLine: 31.
 ---> System.FormatException: The JSON value is not in a supported DateOnly format.
   at System.Text.Json.ThrowHelper.ThrowFormatException(DataType dataType)
   at System.Text.Json.Serialization.Converters.DateOnlyConverter.ReadCore(Utf8JsonReader& reader)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.TryReadAsObject(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, Object& value)
   at System.Text.Json.Serialization.Converters.LargeObjectWithParameterizedConstructorConverter`1.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-05 11:31:34.876 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 400 null text/plain; charset=utf-8 250.0397ms
2024-06-05 11:31:48.473 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 226
2024-06-05 11:31:48.478 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:31:48'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:31:48.481 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:31:48'.
2024-06-05 11:31:48.483 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 11:31:48.486 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 11:31:48.488 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "RegistrationInput inp" from the request body as JSON.
 ---> System.Text.Json.JsonException: '.' is an invalid end of a number. Expected 'E' or 'e'. Path: $.dateOfBirth | LineNumber: 7 | BytePositionInLine: 24.
 ---> System.Text.Json.JsonReaderException: '.' is an invalid end of a number. Expected 'E' or 'e'. LineNumber: 7 | BytePositionInLine: 24.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.TryGetNumber(ReadOnlySpan`1 data, Int32& consumed)
   at System.Text.Json.Utf8JsonReader.ConsumeNumber()
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-05 11:31:48.504 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 400 null text/plain; charset=utf-8 31.8348ms
2024-06-05 11:32:04.984 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 195
2024-06-05 11:32:04.996 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:04'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:32:04.999 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:04'.
2024-06-05 11:32:05.001 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 11:32:05.006 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 11:32:05.008 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "RegistrationInput inp" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 7 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. LineNumber: 7 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-05 11:32:05.028 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 400 null text/plain; charset=utf-8 44.632ms
2024-06-05 11:32:09.574 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 194
2024-06-05 11:32:09.580 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:09'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:32:09.585 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:09'.
2024-06-05 11:32:09.587 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 11:32:09.846 +03:00 [INF] Попытка регистрации PassRefreshTest
2024-06-05 11:32:12.890 +03:00 [INF] Executed DbCommand (200ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Login] = @__inp_login_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-05 11:32:13.342 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 20), @p5='?' (Size = 40), @p6='?' (Size = 50), @p7='?' (Size = 40), @p8='?' (Size = 20) (DbType = Binary), @p9='?' (Size = 40), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([id], [DateOfBirth], [DateOfRegistration], [IsDeleted], [Login], [Name], [Password], [Patronymic], [Salt], [Surname], [UserClassId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2024-06-05 11:32:13.363 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:32:13.366 +03:00 [INF] Writing value of type 'User' as Json.
2024-06-05 11:32:13.388 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 11:32:13.399 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 200 null application/json 3825.4635ms
2024-06-05 11:32:32.112 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 11:32:32.117 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:32'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:32:32.129 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:32:32'.
2024-06-05 11:32:32.134 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:32:32.152 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 11:32:32.399 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 11:32:32.414 +03:00 [INF] Создается JWT токен
2024-06-05 11:32:32.575 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 11:32:33.427 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 500), @p3='?' (Size = 300), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-05 11:32:33.433 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 11:32:33.436 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:32:33.444 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 11:32:33.454 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:32:33.456 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1355.6674ms
2024-06-05 11:34:12.151 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 11:34:12.167 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:34:12'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:34:12.172 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:34:12'.
2024-06-05 11:34:12.173 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:34:12.356 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:34:12.358 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The key value at position 0 of the call to 'DbSet<User>.Find' was of type 'string', which does not match the property type of 'Guid'.
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindTracked(Object[] keyValues)
   at Microsoft.EntityFrameworkCore.Internal.EntityFinder`1.FindAsync(Object[] keyValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.FindAsync(Object[] keyValues)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapUserEndpoints>b__8_10>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapUserEndpoints.cs:line 165
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-06-05 11:34:12.378 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 500 null text/plain; charset=utf-8 227.5886ms
2024-06-05 11:35:43.512 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:35:44.398 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 11:35:44.410 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 11:35:44.524 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 11:35:44.527 +03:00 [INF] Hosting environment: Development
2024-06-05 11:35:44.529 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 11:35:44.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 11:35:45.404 +03:00 [INF] No cached response available for this request.
2024-06-05 11:35:45.489 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 11:35:45.499 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 11:35:45.524 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 11:35:45.526 +03:00 [INF] The response could not be cached for this request.
2024-06-05 11:35:45.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 579.0436ms
2024-06-05 11:35:45.555 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 11:35:45.628 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.1004ms
2024-06-05 11:35:45.706 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 11:35:45.716 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.0015ms
2024-06-05 11:35:49.735 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 11:35:49.886 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:35:52.622 +03:00 [INF] Executed DbCommand (209ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 11:35:52.968 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 11:35:52.991 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:35:52.992 +03:00 [INF] Writing value of type 'String' as Json.
2024-06-05 11:35:52.995 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:35:53.007 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 200 null application/json; charset=utf-8 3271.6ms
2024-06-05 11:36:14.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 501
2024-06-05 11:36:14.864 +03:00 [INF] Executing endpoint 'HTTP: GET /group/all'
2024-06-05 11:36:14.867 +03:00 [INF] All groups retrieved
2024-06-05 11:36:15.052 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GroupName], [g].[Building], [g].[GroupCurator]
FROM [Group] AS [g]
2024-06-05 11:36:15.078 +03:00 [INF] Executed endpoint 'HTTP: GET /group/all'
2024-06-05 11:36:15.080 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 200 null application/json; charset=utf-8 230.8502ms
2024-06-05 11:36:47.262 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 11:36:47.271 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:36:47'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:36:47.299 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:36:47'.
2024-06-05 11:36:47.301 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:36:47.315 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 11:36:47.526 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 11:36:47.531 +03:00 [INF] Создается JWT токен
2024-06-05 11:36:47.706 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 11:36:48.600 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 500), @p3='?' (Size = 300), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-05 11:36:48.613 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 11:36:48.616 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:36:48.624 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 11:36:48.634 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:36:48.636 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1373.9855ms
2024-06-05 11:36:57.376 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 11:36:57.381 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:36:57'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:36:57.387 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:36:57'.
2024-06-05 11:36:57.389 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:36:57.393 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 11:36:57.545 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 11:36:57.548 +03:00 [INF] Создается JWT токен
2024-06-05 11:36:57.694 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 11:36:57.723 +03:00 [INF] Setting HTTP status code 401.
2024-06-05 11:36:57.724 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:36:57.726 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 401 0 null 349.8383ms
2024-06-05 11:38:29.927 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 11:38:30.670 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 11:38:30.684 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 11:38:30.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 11:38:30.781 +03:00 [INF] Hosting environment: Development
2024-06-05 11:38:30.783 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 11:38:31.065 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 11:38:31.329 +03:00 [INF] No cached response available for this request.
2024-06-05 11:38:31.413 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 11:38:31.426 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 11:38:31.452 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 11:38:31.454 +03:00 [INF] The response could not be cached for this request.
2024-06-05 11:38:31.462 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 405.2421ms
2024-06-05 11:38:31.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 11:38:31.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 11:38:31.508 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.6752ms
2024-06-05 11:38:31.597 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.4741ms
2024-06-05 11:38:39.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 11:38:39.303 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:38:41.805 +03:00 [INF] Executed DbCommand (196ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 11:38:42.131 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 11:38:42.567 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (Size = 20) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [IsValid] = @p0, [SessionEnd] = @p1
OUTPUT 1
WHERE [id] = @p2;
UPDATE [User] SET [Password] = @p3, [Salt] = @p4
OUTPUT 1
WHERE [id] = @p5;
2024-06-05 11:38:42.749 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:38:42.751 +03:00 [INF] Writing value of type 'String' as Json.
2024-06-05 11:38:42.754 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 11:38:42.765 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 200 null application/json; charset=utf-8 3583.1746ms
2024-06-05 11:38:50.846 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 11:38:50.890 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:38:50'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:38:50.923 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:38:50'.
2024-06-05 11:38:50.924 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:38:50.932 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 11:38:51.108 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 11:38:51.112 +03:00 [INF] Создается JWT токен
2024-06-05 11:38:51.277 +03:00 [INF] Executed DbCommand (155ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 11:38:51.600 +03:00 [INF] Setting HTTP status code 401.
2024-06-05 11:38:51.601 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:38:51.603 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 401 0 null 757.6174ms
2024-06-05 11:38:58.864 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 11:38:58.867 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:38:58'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 11:38:58.871 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 8:38:58'.
2024-06-05 11:38:58.873 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:38:58.876 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 11:38:59.085 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 11:38:59.090 +03:00 [INF] Создается JWT токен
2024-06-05 11:38:59.254 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 11:38:59.908 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 500), @p5='?' (Size = 300), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SessionEnd] = @p0
OUTPUT 1
WHERE [id] = @p1;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7);
2024-06-05 11:39:00.065 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 11:39:00.068 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 11:39:00.075 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 11:39:00.082 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 11:39:00.084 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1219.9192ms
2024-06-05 12:13:53.340 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:13:53.810 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:13:53.817 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:13:53.871 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:13:53.873 +03:00 [INF] Hosting environment: Development
2024-06-05 12:13:53.874 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:13:54.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:13:54.657 +03:00 [INF] No cached response available for this request.
2024-06-05 12:13:54.890 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:13:54.901 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:13:54.924 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:13:54.926 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:13:54.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 523.0505ms
2024-06-05 12:13:55.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:13:55.006 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:13:55.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.1505ms
2024-06-05 12:13:55.051 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.1376ms
2024-06-05 12:14:15.774 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:14:15.843 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 9:14:15'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 12:14:15.868 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 9:14:15'.
2024-06-05 12:14:15.869 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:14:15.910 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:14:18.166 +03:00 [INF] Executed DbCommand (194ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:14:18.274 +03:00 [INF] Создается JWT токен
2024-06-05 12:14:18.442 +03:00 [INF] Executed DbCommand (153ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:14:19.566 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 500), @p5='?' (Size = 300), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SessionEnd] = @p0
OUTPUT 1
WHERE [id] = @p1;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7);
2024-06-05 12:14:19.727 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 12:14:19.734 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:14:19.742 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 12:14:19.751 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:14:19.760 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 3986.4115ms
2024-06-05 12:15:41.992 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:15:42.298 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:15:42.301 +03:00 [INF] Bearer was not authenticated. Failure message: Пользователя не активен
2024-06-05 12:15:42.309 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:15:42.315 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:15:42.316 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 324.9638ms
2024-06-05 12:16:20.850 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:16:20.861 +03:00 [INF] Bearer was not authenticated. Failure message: Пользователя не активен
2024-06-05 12:16:20.862 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:16:20.866 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:16:21.098 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:16:21.101 +03:00 [INF] Создается JWT токен
2024-06-05 12:16:21.250 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:16:21.761 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 500), @p5='?' (Size = 300), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SessionEnd] = @p0
OUTPUT 1
WHERE [id] = @p1;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7);
2024-06-05 12:16:21.910 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 12:16:21.912 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:16:21.914 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 12:16:21.916 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:16:21.917 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1067.6328ms
2024-06-05 12:16:35.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:16:35.595 +03:00 [INF] Bearer was not authenticated. Failure message: Пользователя не активен
2024-06-05 12:16:35.600 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:16:35.604 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:16:35.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 19.8753ms
2024-06-05 12:19:25.329 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:19:26.022 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:19:26.037 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:19:26.149 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:19:26.151 +03:00 [INF] Hosting environment: Development
2024-06-05 12:19:26.153 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:19:26.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:19:26.702 +03:00 [INF] No cached response available for this request.
2024-06-05 12:19:26.964 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:19:26.976 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:19:27.003 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:19:27.006 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:19:27.011 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 591.2843ms
2024-06-05 12:19:27.131 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:19:27.131 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:19:27.149 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 17.2561ms
2024-06-05 12:19:27.216 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.9588ms
2024-06-05 12:19:29.332 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:19:51.243 +03:00 [INF] Executed DbCommand (203ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:20:04.124 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:20:04.936 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:20:04.950 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:20:05.041 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:20:05.042 +03:00 [INF] Hosting environment: Development
2024-06-05 12:20:05.044 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:20:05.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:20:05.925 +03:00 [INF] No cached response available for this request.
2024-06-05 12:20:06.263 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:20:06.273 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:20:06.302 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:20:06.305 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:20:06.311 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 630.6964ms
2024-06-05 12:20:06.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:20:06.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:20:06.443 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.5285ms
2024-06-05 12:20:06.511 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.0048ms
2024-06-05 12:20:08.668 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:20:17.481 +03:00 [INF] Executed DbCommand (182ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:20:21.288 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0 AND [s].[IsValid] = CAST(1 AS bit) AND [s].[SessionEnd] > GETDATE()
2024-06-05 12:22:41.383 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:22:42.154 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:22:42.167 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:22:42.246 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:22:42.248 +03:00 [INF] Hosting environment: Development
2024-06-05 12:22:42.250 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:22:42.865 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:22:43.159 +03:00 [INF] No cached response available for this request.
2024-06-05 12:22:43.391 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:22:43.400 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:22:43.429 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:22:43.431 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:22:43.438 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 592.9034ms
2024-06-05 12:22:43.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:22:43.558 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:22:43.571 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.097ms
2024-06-05 12:22:43.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.283ms
2024-06-05 12:22:45.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:23:03.524 +03:00 [INF] Executed DbCommand (184ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:23:06.852 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:24:26.353 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:24:27.129 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:24:27.140 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:24:27.207 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:24:27.209 +03:00 [INF] Hosting environment: Development
2024-06-05 12:24:27.214 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:24:27.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:24:27.946 +03:00 [INF] No cached response available for this request.
2024-06-05 12:24:28.173 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:24:28.184 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:24:28.214 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:24:28.217 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:24:28.225 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 495.6414ms
2024-06-05 12:24:28.343 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:24:28.349 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:24:28.361 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 19.3821ms
2024-06-05 12:24:28.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.1399ms
2024-06-05 12:24:38.772 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:24:41.289 +03:00 [INF] Executed DbCommand (186ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:24:41.583 +03:00 [INF] Executed DbCommand (165ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:25:47.439 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:25:48.285 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:25:48.295 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:25:48.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:25:48.371 +03:00 [INF] Hosting environment: Development
2024-06-05 12:25:48.374 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:25:48.641 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:25:48.941 +03:00 [INF] No cached response available for this request.
2024-06-05 12:25:49.255 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:25:49.265 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:25:49.289 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:25:49.291 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:25:49.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 665.195ms
2024-06-05 12:25:49.386 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:25:49.386 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:25:49.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 6.5461ms
2024-06-05 12:25:49.506 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.7761ms
2024-06-05 12:25:54.237 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:25:54.243 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:25:54.286 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:25:56.647 +03:00 [INF] Executed DbCommand (197ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:25:56.765 +03:00 [INF] Создается JWT токен
2024-06-05 12:25:56.935 +03:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:25:58.033 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (Size = 500), @p5='?' (Size = 300), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [SessionEnd] = @p0
OUTPUT 1
WHERE [id] = @p1;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p2, @p3, @p4, @p5, @p6, @p7);
2024-06-05 12:25:58.196 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 12:25:58.203 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:25:58.209 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 12:25:58.219 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:25:58.231 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 3994.9098ms
2024-06-05 12:26:24.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:26:57.995 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:26:59.665 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:27:06.362 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:27:06.371 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:27:06.378 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:27:06.380 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 42000.3525ms
2024-06-05 12:27:24.864 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:27:25.773 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:27:25.882 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:27:26.287 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:27:26.296 +03:00 [INF] Hosting environment: Development
2024-06-05 12:27:26.312 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:27:26.510 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:27:27.167 +03:00 [INF] No cached response available for this request.
2024-06-05 12:27:27.602 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:27:27.612 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:27:27.640 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:27:27.647 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:27:27.667 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 1174.2126ms
2024-06-05 12:27:27.768 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:27:27.769 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:27:27.790 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.5597ms
2024-06-05 12:27:27.828 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.8612ms
2024-06-05 12:27:43.638 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:27:52.816 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:27:53.114 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:27:53.137 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:27:53.141 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:27:56.834 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:27:59.545 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:28:12.148 +03:00 [INF] Создается JWT токен
2024-06-05 12:28:15.676 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:30:57.841 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:30:58.490 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:30:58.497 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:30:58.583 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:30:58.585 +03:00 [INF] Hosting environment: Development
2024-06-05 12:30:58.587 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:30:59.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:30:59.537 +03:00 [INF] No cached response available for this request.
2024-06-05 12:30:59.833 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:30:59.846 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:30:59.916 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:30:59.975 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:30:59.991 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 792.3488ms
2024-06-05 12:31:00.043 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:31:00.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:31:00.067 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 26.418ms
2024-06-05 12:31:00.141 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.2293ms
2024-06-05 12:31:02.661 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:31:07.605 +03:00 [INF] Executed DbCommand (195ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:31:07.901 +03:00 [INF] Executed DbCommand (165ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:31:07.919 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:31:07.921 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:31:11.753 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:31:15.337 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:31:23.821 +03:00 [INF] Создается JWT токен
2024-06-05 12:31:26.421 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:32:25.247 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 500), @p3='?' (Size = 300), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-05 12:32:28.398 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 12:32:30.146 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:32:30.153 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 12:32:30.162 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:32:30.174 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 87512.6015ms
2024-06-05 12:33:29.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:34:00.360 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__ToString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__ToString_0
2024-06-05 12:35:02.325 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:35:03.170 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:35:03.181 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:35:03.300 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:35:03.303 +03:00 [INF] Hosting environment: Development
2024-06-05 12:35:03.306 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:35:03.902 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:35:04.222 +03:00 [INF] No cached response available for this request.
2024-06-05 12:35:04.482 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:35:04.500 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:35:04.529 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:35:04.531 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:35:04.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 657.2257ms
2024-06-05 12:35:04.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:35:04.730 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:35:04.748 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.8032ms
2024-06-05 12:35:04.829 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.9028ms
2024-06-05 12:35:06.729 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:35:12.045 +03:00 [INF] Executed DbCommand (183ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:36:27.478 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:36:28.488 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:36:28.498 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:36:28.575 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:36:28.580 +03:00 [INF] Hosting environment: Development
2024-06-05 12:36:28.583 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:36:28.985 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:36:29.231 +03:00 [INF] No cached response available for this request.
2024-06-05 12:36:29.511 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:36:29.523 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:36:29.546 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:36:29.548 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:36:29.553 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 580.6403ms
2024-06-05 12:36:29.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:36:29.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.9636ms
2024-06-05 12:36:29.678 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:36:29.691 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 12.9191ms
2024-06-05 12:36:31.506 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:36:36.890 +03:00 [INF] Executed DbCommand (182ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:36:42.565 +03:00 [INF] Executed DbCommand (169ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:37:00.787 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:37:01.698 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:37:01.731 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:37:01.834 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:37:01.844 +03:00 [INF] Hosting environment: Development
2024-06-05 12:37:01.845 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:37:02.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:37:02.766 +03:00 [INF] No cached response available for this request.
2024-06-05 12:37:03.022 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:37:03.032 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:37:03.056 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:37:03.058 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:37:03.062 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 696.4381ms
2024-06-05 12:37:03.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:37:03.191 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:37:03.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 13.4388ms
2024-06-05 12:37:03.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.0651ms
2024-06-05 12:37:04.819 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:37:09.925 +03:00 [INF] Executed DbCommand (185ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:37:11.179 +03:00 [INF] Executed DbCommand (171ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:37:13.978 +03:00 [INF] Executing endpoint 'HTTP: GET /group/all'
2024-06-05 12:37:17.454 +03:00 [INF] All groups retrieved
2024-06-05 12:37:17.628 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GroupName], [g].[Building], [g].[GroupCurator]
FROM [Group] AS [g]
2024-06-05 12:37:17.654 +03:00 [INF] Executed endpoint 'HTTP: GET /group/all'
2024-06-05 12:37:17.668 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 200 null application/json; charset=utf-8 12848.9246ms
2024-06-05 12:37:38.236 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 12:37:41.314 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:37:46.152 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:37:46.153 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:37:46.434 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:37:46.464 +03:00 [INF] Setting HTTP status code 400.
2024-06-05 12:37:46.466 +03:00 [INF] Writing value of type 'String' as Json.
2024-06-05 12:37:46.467 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:37:46.469 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 400 null application/json; charset=utf-8 8233.1846ms
2024-06-05 12:38:04.653 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 12:38:04.807 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:38:04.813 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:38:04.816 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:04.970 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:38:05.170 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 12:38:05.217 +03:00 [INF] Setting HTTP status code 500.
2024-06-05 12:38:05.228 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-06-05 12:38:05.232 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:05.233 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 500 null application/problem+json 579.8337ms
2024-06-05 12:38:48.721 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 12:38:48.919 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:38:48.923 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:49.074 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:38:49.261 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 12:38:49.295 +03:00 [INF] Setting HTTP status code 500.
2024-06-05 12:38:49.297 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-06-05 12:38:49.298 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:49.300 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 500 null application/problem+json 590.3205ms
2024-06-05 12:38:55.625 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 12:38:55.776 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:38:55.783 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:55.936 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:38:56.122 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 12:38:56.155 +03:00 [INF] Setting HTTP status code 500.
2024-06-05 12:38:56.157 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-06-05 12:38:56.158 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:38:56.159 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 500 null application/problem+json 534.3604ms
2024-06-05 12:39:13.925 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/refreshPassword - application/json 501
2024-06-05 12:39:14.106 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:39:14.109 +03:00 [INF] Executing endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:39:14.260 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:39:14.442 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@__data_jwtToken_0='?' (Size = 500), @__data_refreshToken_1='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__data_jwtToken_0 AND [s].[RefreshToken] = @__data_refreshToken_1
2024-06-05 12:39:14.880 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p5='?' (DbType = Guid), @p3='?' (Size = 50), @p4='?' (Size = 20) (DbType = Binary)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Session] SET [IsValid] = @p0, [SessionEnd] = @p1
OUTPUT 1
WHERE [id] = @p2;
UPDATE [User] SET [Password] = @p3, [Salt] = @p4
OUTPUT 1
WHERE [id] = @p5;
2024-06-05 12:39:15.058 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:39:15.059 +03:00 [INF] Writing value of type 'String' as Json.
2024-06-05 12:39:15.061 +03:00 [INF] Executed endpoint 'HTTP: POST /user/refreshPassword'
2024-06-05 12:39:15.062 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/refreshPassword - 200 null application/json; charset=utf-8 1136.5772ms
2024-06-05 12:39:29.857 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:39:30.010 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:39:30.016 +03:00 [INF] Executing endpoint 'HTTP: GET /group/all'
2024-06-05 12:39:30.018 +03:00 [INF] All groups retrieved
2024-06-05 12:39:30.167 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[GroupName], [g].[Building], [g].[GroupCurator]
FROM [Group] AS [g]
2024-06-05 12:39:30.172 +03:00 [INF] Executed endpoint 'HTTP: GET /group/all'
2024-06-05 12:39:30.173 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 200 null application/json; charset=utf-8 316.435ms
2024-06-05 12:40:01.117 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:40:01.916 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:40:01.933 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:40:02.033 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:40:02.037 +03:00 [INF] Hosting environment: Development
2024-06-05 12:40:02.039 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:40:02.683 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:40:02.946 +03:00 [INF] No cached response available for this request.
2024-06-05 12:40:03.258 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:40:03.269 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:40:03.301 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:40:03.304 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:40:03.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 637.0636ms
2024-06-05 12:40:03.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:40:03.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:40:03.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 24.2941ms
2024-06-05 12:40:03.500 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2423ms
2024-06-05 12:40:08.084 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:40:10.519 +03:00 [INF] Executed DbCommand (190ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:40:10.793 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:40:10.824 +03:00 [INF] Bearer was not authenticated. Failure message: Сессия пользователя недействительна или истекла
2024-06-05 12:40:10.832 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:40:10.841 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:40:10.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 2759.0206ms
2024-06-05 12:40:22.383 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:40:22.542 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:40:22.547 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:40:22.549 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:40:25.982 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:40:26.176 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:40:26.182 +03:00 [INF] Создается JWT токен
2024-06-05 12:40:26.337 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:40:26.372 +03:00 [INF] Setting HTTP status code 401.
2024-06-05 12:40:26.375 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:40:26.393 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 401 0 null 4010.0083ms
2024-06-05 12:40:32.127 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 69
2024-06-05 12:40:32.279 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:40:32.282 +03:00 [INF] Bearer was not authenticated. Failure message: Сессии не существует
2024-06-05 12:40:32.283 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:40:32.285 +03:00 [INF] Попытка авторизацииPassRefreshTest
2024-06-05 12:40:32.490 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 12:40:32.493 +03:00 [INF] Создается JWT токен
2024-06-05 12:40:32.640 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 12:40:33.235 +03:00 [INF] Executed DbCommand (148ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 500), @p3='?' (Size = 300), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-05 12:40:33.245 +03:00 [INF] Успешная авторизацияPassRefreshTest
2024-06-05 12:40:33.247 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 12:40:33.255 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 12:40:33.262 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 12:40:33.263 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1136.2403ms
2024-06-05 12:40:58.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:40:58.889 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:40:58.892 +03:00 [INF] Bearer was not authenticated. Failure message: Сессия пользователя недействительна или истекла
2024-06-05 12:40:58.895 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:40:58.896 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:40:58.898 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 161.8648ms
2024-06-05 12:41:26.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:41:26.663 +03:00 [INF] Executed DbCommand (146ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:41:26.666 +03:00 [INF] Bearer was not authenticated. Failure message: Сессия пользователя недействительна или истекла
2024-06-05 12:41:26.669 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 12:41:26.670 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 12:41:26.671 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 157.8197ms
2024-06-05 12:41:36.509 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:41:53.365 +03:00 [INF] Executed DbCommand (145ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:43:26.757 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:43:27.420 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:43:27.436 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:43:27.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:43:27.520 +03:00 [INF] Hosting environment: Development
2024-06-05 12:43:27.521 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:43:28.175 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:43:28.469 +03:00 [INF] No cached response available for this request.
2024-06-05 12:43:28.822 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:43:28.833 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:43:28.869 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:43:28.871 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:43:28.878 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 713.8477ms
2024-06-05 12:43:29.034 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:43:29.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:43:29.067 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 23.2411ms
2024-06-05 12:43:29.135 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.2763ms
2024-06-05 12:43:32.560 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:43:40.351 +03:00 [INF] Executed DbCommand (178ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:43:41.944 +03:00 [INF] Executed DbCommand (163ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 12:44:01.647 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 12:44:02.509 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 12:44:02.522 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 12:44:02.595 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 12:44:02.599 +03:00 [INF] Hosting environment: Development
2024-06-05 12:44:02.602 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 12:44:03.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 12:44:03.283 +03:00 [INF] No cached response available for this request.
2024-06-05 12:44:03.515 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 12:44:03.525 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 12:44:03.548 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 12:44:03.549 +03:00 [INF] The response could not be cached for this request.
2024-06-05 12:44:03.554 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 485.5266ms
2024-06-05 12:44:03.645 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 12:44:03.645 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 12:44:03.650 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 5.2ms
2024-06-05 12:44:03.703 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.1715ms
2024-06-05 12:44:06.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 69
2024-06-05 12:44:11.863 +03:00 [INF] Executed DbCommand (180ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 12:44:14.007 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 23:45:11.102 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 23:45:12.315 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 23:45:12.329 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 23:45:12.506 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 23:45:12.508 +03:00 [INF] Hosting environment: Development
2024-06-05 23:45:12.509 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 23:45:13.091 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 23:45:13.461 +03:00 [INF] No cached response available for this request.
2024-06-05 23:45:13.882 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 23:45:13.942 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 23:45:14.022 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 23:45:14.024 +03:00 [INF] The response could not be cached for this request.
2024-06-05 23:45:14.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 945.2306ms
2024-06-05 23:45:14.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 23:45:14.063 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 23:45:14.080 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 16.5146ms
2024-06-05 23:45:14.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.8153ms
2024-06-05 23:46:56.298 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 23:46:57.097 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 23:46:57.112 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 23:46:57.218 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 23:46:57.220 +03:00 [INF] Hosting environment: Development
2024-06-05 23:46:57.222 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 23:46:57.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 23:46:57.965 +03:00 [INF] No cached response available for this request.
2024-06-05 23:46:58.183 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 23:46:58.203 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 23:46:58.230 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 23:46:58.231 +03:00 [INF] The response could not be cached for this request.
2024-06-05 23:46:58.236 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 543.6742ms
2024-06-05 23:46:58.346 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 23:46:58.346 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 23:46:58.356 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 10.084ms
2024-06-05 23:46:58.417 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.4936ms
2024-06-05 23:47:37.117 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 23:47:38.023 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 23:47:38.043 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 23:47:38.161 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 23:47:38.164 +03:00 [INF] Hosting environment: Development
2024-06-05 23:47:38.167 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 23:47:38.622 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 23:47:38.879 +03:00 [INF] No cached response available for this request.
2024-06-05 23:47:39.127 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 23:47:39.152 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 23:47:39.183 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 23:47:39.189 +03:00 [INF] The response could not be cached for this request.
2024-06-05 23:47:39.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 579.2183ms
2024-06-05 23:47:39.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 23:47:39.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 23:47:39.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 20.2637ms
2024-06-05 23:47:39.400 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.0443ms
2024-06-05 23:47:53.345 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-06-05 23:47:54.040 +03:00 [INF] Now listening on: http://localhost:5132
2024-06-05 23:47:54.053 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-06-05 23:47:54.136 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-06-05 23:47:54.139 +03:00 [INF] Hosting environment: Development
2024-06-05 23:47:54.143 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-06-05 23:47:54.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/ - null null
2024-06-05 23:47:54.938 +03:00 [INF] No cached response available for this request.
2024-06-05 23:47:55.157 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-06-05 23:47:55.181 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-06-05 23:47:55.203 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-06-05 23:47:55.204 +03:00 [INF] The response could not be cached for this request.
2024-06-05 23:47:55.209 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/ - 200 null text/html 507.0876ms
2024-06-05 23:47:55.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_vs/browserLink - null null
2024-06-05 23:47:55.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - null null
2024-06-05 23:47:55.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 9.9964ms
2024-06-05 23:47:55.347 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.0853ms
2024-06-05 23:50:45.505 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 196
2024-06-05 23:50:45.686 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:50:45'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 23:50:45.831 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:50:45'.
2024-06-05 23:50:45.834 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 23:50:45.924 +03:00 [INF] Попытка регистрации DiplomScreenshot
2024-06-05 23:50:45.942 +03:00 [ERR] Ошибка валидации
2024-06-05 23:50:45.950 +03:00 [INF] Setting HTTP status code 400.
2024-06-05 23:50:45.958 +03:00 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2024-06-05 23:50:45.964 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 23:50:45.967 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 400 null application/problem+json 462.7274ms
2024-06-05 23:50:51.248 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/register - application/json 197
2024-06-05 23:50:51.271 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:50:51'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 23:50:51.283 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:50:51'.
2024-06-05 23:50:51.285 +03:00 [INF] Executing endpoint 'HTTP: POST /user/register'
2024-06-05 23:50:51.290 +03:00 [INF] Попытка регистрации DiplomScreenshot
2024-06-05 23:50:54.613 +03:00 [INF] Executed DbCommand (208ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Login] = @__inp_login_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-06-05 23:50:55.060 +03:00 [INF] Executed DbCommand (150ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Date), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 20), @p5='?' (Size = 40), @p6='?' (Size = 50), @p7='?' (Size = 40), @p8='?' (Size = 20) (DbType = Binary), @p9='?' (Size = 40), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [User] ([id], [DateOfBirth], [DateOfRegistration], [IsDeleted], [Login], [Name], [Password], [Patronymic], [Salt], [Surname], [UserClassId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2024-06-05 23:50:55.084 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 23:50:55.087 +03:00 [INF] Writing value of type 'User' as Json.
2024-06-05 23:50:55.101 +03:00 [INF] Executed endpoint 'HTTP: POST /user/register'
2024-06-05 23:50:55.115 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/register - 200 null application/json 3867.0913ms
2024-06-05 23:52:23.294 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5132/user/authorize - application/json 72
2024-06-05 23:52:23.304 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:52:23'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-06-05 23:52:23.324 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '04.06.2024 12:34:46', Current time (UTC): '05.06.2024 20:52:23'.
2024-06-05 23:52:23.327 +03:00 [INF] Executing endpoint 'HTTP: POST /user/authorize'
2024-06-05 23:52:23.341 +03:00 [INF] Попытка авторизацииDiplomScreenshot
2024-06-05 23:52:23.590 +03:00 [INF] Executed DbCommand (147ms) [Parameters=[@__inp_login_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[Login] = @__inp_login_0
2024-06-05 23:52:23.607 +03:00 [INF] Создается JWT токен
2024-06-05 23:52:23.771 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
2024-06-05 23:52:24.359 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 500), @p3='?' (Size = 300), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Session] ([id], [IsValid], [JwtToken], [RefreshToken], [SessionEnd], [SessionStart])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-06-05 23:52:24.365 +03:00 [INF] Успешная авторизацияDiplomScreenshot
2024-06-05 23:52:24.368 +03:00 [INF] Setting HTTP status code 200.
2024-06-05 23:52:24.373 +03:00 [INF] Writing value of type 'ValueTuple`3' as Json.
2024-06-05 23:52:24.417 +03:00 [INF] Executed endpoint 'HTTP: POST /user/authorize'
2024-06-05 23:52:24.419 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5132/user/authorize - 200 null application/json 1125.7391ms
2024-06-05 23:58:30.696 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5132/group/all - application/json 72
2024-06-05 23:58:31.681 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[DateOfBirth], [u].[DateOfRegistration], [u].[IsDeleted], [u].[Login], [u].[Name], [u].[Password], [u].[Patronymic], [u].[Salt], [u].[Surname], [u].[UserClassId]
FROM [User] AS [u]
WHERE [u].[id] = @__get_Item_0
2024-06-05 23:58:31.840 +03:00 [INF] Executed DbCommand (149ms) [Parameters=[@__thisTokenString_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[id], [s].[IsValid], [s].[JwtToken], [s].[RefreshToken], [s].[SessionEnd], [s].[SessionStart]
FROM [Session] AS [s]
WHERE [s].[JwtToken] = @__thisTokenString_0
2024-06-05 23:58:31.845 +03:00 [INF] Bearer was not authenticated. Failure message: Сессия пользователя недействительна
2024-06-05 23:58:31.854 +03:00 [INF] Authorization failed. These requirements were not met:
ClaimsAuthorizationRequirement:Claim.Type=userClass and Claim.Value is one of the following values: (2|3)
2024-06-05 23:58:31.862 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-06-05 23:58:31.864 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5132/group/all - 401 0 null 1172.4013ms
