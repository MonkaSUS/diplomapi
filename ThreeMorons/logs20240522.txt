2024-05-22 11:52:21.470 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 11:52:23.198 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 11:52:23.224 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 11:52:23.504 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 11:52:23.508 +03:00 [INF] Hosting environment: Development
2024-05-22 11:52:23.510 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 11:52:25.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 11:52:25.725 +03:00 [INF] No cached response available for this request.
2024-05-22 11:52:25.859 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 11:52:25.918 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 11:52:25.933 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 11:52:25.935 +03:00 [INF] The response could not be cached for this request.
2024-05-22 11:52:25.943 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 634.4434ms
2024-05-22 11:52:25.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 11:52:25.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/favicon.ico - null null
2024-05-22 11:52:25.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 11:52:26.007 +03:00 [INF] No cached response available for this request.
2024-05-22 11:52:26.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 47.4317ms
2024-05-22 11:52:26.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 217.6993ms
2024-05-22 11:52:26.184 +03:00 [INF] Sending file. Request path: '/favicon.ico'. Physical path: 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\wwwroot\favicon.ico'
2024-05-22 11:52:26.189 +03:00 [INF] The response could not be cached for this request.
2024-05-22 11:52:26.191 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/favicon.ico - 200 268286 image/x-icon 228.1378ms
2024-05-22 11:52:45.785 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174//createBackup - application/json 64
2024-05-22 11:52:45.788 +03:00 [INF] No cached response available for this request.
2024-05-22 11:52:45.792 +03:00 [INF] The response could not be cached for this request.
2024-05-22 11:52:45.848 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174//createBackup - 404 0 null 63.6753ms
2024-05-22 11:52:45.852 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7174//createBackup, Response status code: 404
2024-05-22 11:52:52.831 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 11:52:52.837 +03:00 [INF] No cached response available for this request.
2024-05-22 11:52:52.839 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 11:52:53.828 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 11:52:53.833 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The entity type 'DbServiceUser' requires a primary key to be defined. If you intended to use a keyless entity type, call 'HasNoKey' in 'OnModelCreating'. For more information on keyless entity types, see https://go.microsoft.com/fwlink/?linkid=2141943.
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.ValidateNonNullPrimaryKeys(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.RelationalModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.SqlServer.Infrastructure.Internal.SqlServerModelValidator.Validate(IModel model, IDiagnosticsLogger`1 logger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.Microsoft.EntityFrameworkCore.Storage.IDatabaseFacadeDependenciesAccessor.get_Dependencies()
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetFacadeDependencies(DatabaseFacade databaseFacade)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.GetDbConnection(DatabaseFacade databaseFacade)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 162
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-22 11:52:54.151 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null text/plain; charset=utf-8 1320.1995ms
2024-05-22 12:11:29.571 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:11:30.432 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:11:30.459 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:11:30.570 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:11:30.574 +03:00 [INF] Hosting environment: Development
2024-05-22 12:11:30.577 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:11:31.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:11:31.471 +03:00 [INF] No cached response available for this request.
2024-05-22 12:11:31.553 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:11:31.557 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:11:31.574 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:11:31.576 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:11:31.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 473.242ms
2024-05-22 12:11:31.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:11:31.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:11:31.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 63.9636ms
2024-05-22 12:11:31.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 152.5166ms
2024-05-22 12:11:37.011 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:11:37.020 +03:00 [INF] No cached response available for this request.
2024-05-22 12:11:37.027 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:11:40.595 +03:00 [ERR] Failed executing DbCommand (235ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
BACKUP @p0 TO DISK = '@p1.bak'
2024-05-22 12:11:40.615 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:11:40.619 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '@p0'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 165
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:34fda98a-3c18-46d2-b21a-02735c8facc9
Error Number:102,State:1,Class:15
2024-05-22 12:11:40.858 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:11:41.062 +03:00 [INF] Executed DbCommand (194ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2024-05-22 12:11:41.302 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:11:41.459 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-22 12:11:41.486 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null text/plain; charset=utf-8 4475.1238ms
2024-05-22 12:12:44.994 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:12:45.997 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:12:46.019 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:12:46.163 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:12:46.166 +03:00 [INF] Hosting environment: Development
2024-05-22 12:12:46.168 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:12:46.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:12:47.251 +03:00 [INF] No cached response available for this request.
2024-05-22 12:12:47.338 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:12:47.342 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:12:47.359 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:12:47.361 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:12:47.372 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 409.2505ms
2024-05-22 12:12:47.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:12:47.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:12:47.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 46.3285ms
2024-05-22 12:12:47.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 226.7929ms
2024-05-22 12:12:50.260 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:12:50.268 +03:00 [INF] No cached response available for this request.
2024-05-22 12:12:50.270 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:12:52.899 +03:00 [ERR] Failed executing DbCommand (209ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
BACKUP @p0 TO DISK = '@p1.bak'
2024-05-22 12:12:52.916 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:12:52.921 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '@p0'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 165
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:7c6e1254-b4a8-4d8a-8f41-ba7cca0c2424
Error Number:102,State:1,Class:15
2024-05-22 12:12:53.246 +03:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:12:53.433 +03:00 [INF] Executed DbCommand (179ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2024-05-22 12:12:53.620 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:12:53.779 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-22 12:12:53.814 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null text/plain; charset=utf-8 3553.3021ms
2024-05-22 12:13:13.549 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:13:14.148 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:13:14.157 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:13:14.273 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:13:14.275 +03:00 [INF] Hosting environment: Development
2024-05-22 12:13:14.276 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:13:14.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:13:15.322 +03:00 [INF] No cached response available for this request.
2024-05-22 12:13:15.454 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:13:15.469 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:13:15.481 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:13:15.483 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:13:15.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 511.359ms
2024-05-22 12:13:15.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:13:15.540 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:13:15.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 209.2447ms
2024-05-22 12:13:15.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 260.205ms
2024-05-22 12:13:19.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:13:19.482 +03:00 [INF] No cached response available for this request.
2024-05-22 12:13:19.485 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:14:54.322 +03:00 [ERR] Failed executing DbCommand (227ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
BACKUP @p0 TO DISK = '@p1.bak'
2024-05-22 12:14:54.416 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:14:54.420 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near '@p0'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 165
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.ResponseCaching.ResponseCachingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:1f19dad0-035a-4b72-9bf2-ec1af168405b
Error Number:102,State:1,Class:15
2024-05-22 12:14:54.784 +03:00 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:14:55.030 +03:00 [INF] Executed DbCommand (221ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2024-05-22 12:14:55.224 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-22 12:14:55.394 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-22 12:14:55.429 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null text/plain; charset=utf-8 95954.0918ms
2024-05-22 12:22:47.298 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:22:48.405 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:22:48.415 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:22:48.471 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:22:48.472 +03:00 [INF] Hosting environment: Development
2024-05-22 12:22:48.473 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:22:49.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:22:49.545 +03:00 [INF] No cached response available for this request.
2024-05-22 12:22:49.671 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:22:49.684 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:22:49.713 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:22:49.716 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:22:49.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 465.4322ms
2024-05-22 12:22:49.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:22:49.771 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:22:49.801 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 30.3314ms
2024-05-22 12:22:49.919 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 146.5519ms
2024-05-22 12:22:53.393 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:22:53.403 +03:00 [INF] No cached response available for this request.
2024-05-22 12:22:53.406 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:22:55.972 +03:00 [ERR] Failed executing DbCommand (208ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
BACKUP DATABASE [ThreeMorons] TO DISK = 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\backup_ThreeMorons_20240522_122254.bak' WITH FORMAT
2024-05-22 12:22:56.039 +03:00 [ERR] пиздык
Microsoft.Data.SqlClient.SqlException (0x80131904): BACKUP DATABASE permission denied in database 'ThreeMorons'.
BACKUP DATABASE is terminating abnormally.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 178
ClientConnectionId:5bed7728-df2a-4d94-85e4-f2e6b6cfe543
Error Number:262,State:1,Class:14
2024-05-22 12:22:56.110 +03:00 [INF] Setting HTTP status code 500.
2024-05-22 12:22:56.160 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-05-22 12:22:56.217 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:22:56.222 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:22:56.251 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null application/problem+json 2858.7222ms
2024-05-22 12:32:53.722 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:32:54.531 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:32:54.540 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:32:54.609 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:32:54.612 +03:00 [INF] Hosting environment: Development
2024-05-22 12:32:54.614 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:32:55.376 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:32:55.643 +03:00 [INF] No cached response available for this request.
2024-05-22 12:32:55.804 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:32:55.821 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:32:55.841 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:32:55.845 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:32:55.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 483.6317ms
2024-05-22 12:32:55.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:32:55.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:32:56.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 88.2957ms
2024-05-22 12:32:56.101 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 189.1799ms
2024-05-22 12:32:59.273 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:32:59.285 +03:00 [INF] No cached response available for this request.
2024-05-22 12:32:59.294 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:33:02.030 +03:00 [ERR] Failed executing DbCommand (195ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
BACKUP DATABASE [ThreeMorons] TO DISK = 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\backup_ThreeMorons_20240522_123300.bak' WITH FORMAT
2024-05-22 12:33:02.103 +03:00 [ERR] пиздык
Microsoft.Data.SqlClient.SqlException (0x80131904): BACKUP DATABASE permission denied in database 'ThreeMorons'.
BACKUP DATABASE is terminating abnormally.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 178
ClientConnectionId:e5fc99ad-b9b6-4a56-ab6a-034b30def103
Error Number:262,State:1,Class:14
2024-05-22 12:33:02.166 +03:00 [INF] Setting HTTP status code 500.
2024-05-22 12:33:02.179 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-05-22 12:33:02.197 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:33:02.201 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:33:02.216 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null application/problem+json 2943.8427ms
2024-05-22 12:33:54.376 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:33:54.396 +03:00 [INF] No cached response available for this request.
2024-05-22 12:33:54.413 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:33:54.599 +03:00 [ERR] Failed executing DbCommand (151ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
BACKUP DATABASE [ThreeMorons] TO DISK = 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\backup_ThreeMorons_20240522_123354.bak' WITH FORMAT
2024-05-22 12:33:54.628 +03:00 [ERR] пиздык
Microsoft.Data.SqlClient.SqlException (0x80131904): BACKUP DATABASE permission denied in database 'ThreeMorons'.
BACKUP DATABASE is terminating abnormally.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 178
ClientConnectionId:e5fc99ad-b9b6-4a56-ab6a-034b30def103
Error Number:262,State:1,Class:14
2024-05-22 12:33:54.640 +03:00 [INF] Setting HTTP status code 500.
2024-05-22 12:33:54.641 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-05-22 12:33:54.642 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:33:54.643 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:33:54.646 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null application/problem+json 270.1994ms
2024-05-22 12:34:40.461 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:34:40.467 +03:00 [INF] No cached response available for this request.
2024-05-22 12:34:40.468 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:34:40.695 +03:00 [ERR] Failed executing DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
BACKUP DATABASE [ThreeMorons] TO DISK = 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\backup_ThreeMorons_20240522_123440.bak' WITH FORMAT
2024-05-22 12:34:40.720 +03:00 [ERR] пиздык
Microsoft.Data.SqlClient.SqlException (0x80131904): BACKUP DATABASE permission denied in database 'ThreeMorons'.
BACKUP DATABASE is terminating abnormally.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 178
ClientConnectionId:e5fc99ad-b9b6-4a56-ab6a-034b30def103
Error Number:262,State:1,Class:14
2024-05-22 12:34:40.734 +03:00 [INF] Setting HTTP status code 500.
2024-05-22 12:34:40.735 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-05-22 12:34:40.737 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:34:40.738 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:34:40.739 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null application/problem+json 283.5018ms
2024-05-22 12:35:38.328 +03:00 [INF] User profile is available. Using 'C:\Users\Lev\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-22 12:35:39.476 +03:00 [INF] Now listening on: https://localhost:7174
2024-05-22 12:35:39.497 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-05-22 12:35:39.607 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-22 12:35:39.609 +03:00 [INF] Hosting environment: Development
2024-05-22 12:35:39.611 +03:00 [INF] Content root path: C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons
2024-05-22 12:35:40.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/ - null null
2024-05-22 12:35:40.996 +03:00 [INF] No cached response available for this request.
2024-05-22 12:35:41.080 +03:00 [INF] Executing endpoint 'HTTP: GET /'
2024-05-22 12:35:41.095 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2024-05-22 12:35:41.112 +03:00 [INF] Executed endpoint 'HTTP: GET /'
2024-05-22 12:35:41.113 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:35:41.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/ - 200 null text/html 383.0458ms
2024-05-22 12:35:41.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - null null
2024-05-22 12:35:41.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7174/_vs/browserLink - null null
2024-05-22 12:35:41.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_framework/aspnetcore-browser-refresh.js - 200 13758 application/javascript; charset=utf-8 113.2895ms
2024-05-22 12:35:41.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7174/_vs/browserLink - 200 null text/javascript; charset=UTF-8 216.0185ms
2024-05-22 12:35:45.560 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7174/createBackup - application/json 64
2024-05-22 12:35:45.566 +03:00 [INF] No cached response available for this request.
2024-05-22 12:35:45.569 +03:00 [INF] Executing endpoint 'HTTP: GET /createBackup'
2024-05-22 12:35:48.031 +03:00 [ERR] Failed executing DbCommand (186ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
BACKUP DATABASE [ThreeMorons] TO DISK = 'C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\backup_ThreeMorons_20240522_123546.bak' WITH FORMAT
2024-05-22 12:35:48.088 +03:00 [ERR] пиздык
Microsoft.Data.SqlClient.SqlException (0x80131904): BACKUP DATABASE permission denied in database 'ThreeMorons'.
BACKUP DATABASE is terminating abnormally.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__208_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQueryAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.ExecuteSqlRawAsync(DatabaseFacade databaseFacade, String sql, IEnumerable`1 parameters, CancellationToken cancellationToken)
   at ThreeMorons.Initialization.Initializer.<>c.<<MapSpecialEndpoints>b__9_6>d.MoveNext() in C:\Users\Lev\source\repos\ThreeMorons\ThreeMorons\Initialization\MapSpecialEndpoints.cs:line 178
ClientConnectionId:87e0ec03-f255-430c-ac75-e28479402483
Error Number:262,State:1,Class:14
2024-05-22 12:35:48.133 +03:00 [INF] Setting HTTP status code 500.
2024-05-22 12:35:48.142 +03:00 [INF] Writing value of type 'ProblemDetails' as Json.
2024-05-22 12:35:48.156 +03:00 [INF] Executed endpoint 'HTTP: GET /createBackup'
2024-05-22 12:35:48.161 +03:00 [INF] The response could not be cached for this request.
2024-05-22 12:35:48.177 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7174/createBackup - 500 null application/problem+json 2617.2164ms
